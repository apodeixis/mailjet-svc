allOf:
  - type: object
    required:
      - type
    properties:
      type:
        type: string

  - type: object
    required:
      - attributes
    properties:
      attributes:
        type: object
        required:
          - subject
        properties:
          subject:
            type: string
          text:
            type: string
          html:
            type: string
          from:
            type: string